<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" href="/asses/favicon/Logo_Img.svg" type="VietHub Airline" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

  <!-- font -->
  <link
    href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wdth,wght@0,75..100,300..800;1,75..100,300..800&family=Sora:wght@100..800&display=swap"
    rel="stylesheet" />

  <!-- font icon -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

  <!-- reset css -->
  <link rel="stylesheet" th:href="@{/css/reset.css}" />
  <!-- style css -->
  <link rel="stylesheet" th:href="@{/css/style_search.css}" />

  <title>VietHub Airline</title>
</head>

<body>

  <!-- header -->
  <header class="header">
    <div class="menu">
      <!-- Logo -->
      <a href=""><img th:src="@{/favicon/Logo_Gr.svg}" alt="Shine smile" class="logo header__logo" /></a>
      <!-- Navbar  -->
      <nav class="navbar">
        <ul class="navbar__list" id="navbar__list--pc">
          <li class="navbar__item">
            <a href="/templates/index.html" class="navbar__link">Home</a>
          </li>
          <li class="navbar__item">
            <a href="/templates/index_search.html" class="navbar__link">Search</a>
          </li>
          <li class="navbar__item">
            <a href="/templates/index_booking.html" class="navbar__link">Booking</a>
          </li>
          <li class="navbar__item">
            <a href="/templates/index.html" class="navbar__link">About</a>
          </li>
          <li class="navbar__item">
            <a href="/templates/index.html" class="navbar__link">Contact</a>
          </li>
        </ul>
      </nav>
      <!-- cta action -->
      <!-- cta action -->
      <div class="congratulation__action">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" viewBox="0 0 448 512">
          <path
            d="M304 128a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM49.3 464H398.7c-8.9-63.3-63.3-112-129-112H178.3c-65.7 0-120.1 48.7-129 112zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3z" />
        </svg>
        <p class="user_name">User</p>
      </div>
    </div>
    <section class="info__personal" style="display: none;">
      <div class="info__name">
        <h2 class="name__heading">Nguyen Hong Phat</h2>
        <p class="name__desc">(User)</p>
        <div class="underlined"></div>
      </div>
      <div class="user_functions">
        <a href="\templates\index_profile.html">
          <div class="personal__page">

            <svg xmlns="http://www.w3.org/2000/svg" width="30" viewBox="0 0 448 512" fill="#00256C">
              <path
                d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z" />
            </svg>
            <h2 class="name__functions"> Personal Page</h2>
          </div>
        </a>
        <a href="\templates\index_reservation.html">
          <div class="booked__tickets">
            <svg xmlns="http://www.w3.org/2000/svg" width="30" viewBox="0 0 576 512" fill="#00256C">
              <path
                d="M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z" />
            </svg>
            <h2 class="name__functions"> Booked Tickets</h2>
          </div>
        </a>
        <a href="#">
          <div class="log_out">
            <svg xmlns="http://www.w3.org/2000/svg" width="30" viewBox="0 0 512 512" fill="#00256C">
              <path
                d="M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 192 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128zM160 96c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 32C43 32 0 75 0 128L0 384c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z" />
            </svg>
            <h2 class="name__functions"> Log out</h2>
          </div>
        </a>
      </div>
    </section>
    </div>
  </header>

  <!-- main -->
  <main>

    <!-- search-->
    <section class="search">

      <!-- hero-->
      <!-- <section class="hero">
          <img
            class="hero__img "
            th:src="@{/img/Plane_Search.svg}"
            alt="Plane_0"
          />
        </section> -->

      <!-- container-->
      <form th:action="@{'/' + ${role} + '/SearchFlight'}" method="POST">
        <div class="container">
          <div class="search__container">
            <div class="fromto__search">
              <div class="from__search" onclick="showDestinations('From')">
                <div class="name">
                  <h1 class="abb-name">From</h1>
                  <div class="form-input">
                    <select name="maSanBayDi">
                      <option disabled selected>Select destination</option>
                      <option th:each="sanbay: ${sanbay}" th:value="${sanbay.maSanBay}"
                        th:text="${sanbay.diaChi + ' (' + sanbay.maSanBay + ')'}"></option>
                    </select>
                  </div>
                </div>
              </div>

              <div class="search__icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 512 512" fill="#00256C">
                  <path
                    d="M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8c62.5-62.5 163.8-62.5 226.3 0L386.3 160H352c-17.7 0-32 14.3-32 32s14.3 32 32 32H463.5c0 0 0 0 0 0h.4c17.7 0 32-14.3 32-32V80c0-17.7-14.3-32-32-32s-32 14.3-32 32v35.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2c-4 4-6.7 8.8-8.1 14c-.3 1.2-.6 2.5-.8 3.8c-.3 1.7-.4 3.4-.4 5.1V432c0 17.7 14.3 32 32 32s32-14.3 32-32V396.9l17.6 17.5 0 0c87.5 87.4 229.3 87.4 316.7 0c24.4-24.4 42.1-53.1 52.9-83.7c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.5 62.5-163.8 62.5-226.3 0l-.1-.1L125.6 352H160c17.7 0 32-14.3 32-32s-14.3-32-32-32H48.4c-1.6 0-3.2 .1-4.8 .3s-3.1 .5-4.6 1z" />
                </svg>
              </div>

              <div class="to__search" onclick="showDestinations('To')">
                <h1 class="abb-name">To</h1>
                <p class="form-input">
                  <select name="maSanBayDen">
                    <option disabled selected>Select destination</option>
                    <option th:each="sanbay: ${sanbay}" th:value="${sanbay.maSanBay}"
                      th:text="${sanbay.diaChi + ' (' + sanbay.maSanBay + ')'}"></option>
                  </select>
                </p>


              </div>
            </div>

            <div class="search__stop">
              <svg xmlns="http://www.w3.org/2000/svg" width="1" height="64" viewBox="0 0 1 64" fill="none">
                <path d="M0.5 0L0.500003 64" stroke="black" />
              </svg>
            </div>

            <div class="calendar__search">
              <div class="search__icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="50" height="56" viewBox="0 0 448 512" fill="#00256C">
                  <path
                    d="M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm64 80v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm128 0v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H336zM64 400v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H208zm112 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H336c-8.8 0-16 7.2-16 16z" />
                </svg>
                </svg>
              </div>

              <div class="form-group">
                <label class="form-label" for="DepartureDate">Departure Date</label>
                <input class="form-input" type="date" id="DepartureDate" name="ngayKhoiHanh"
                  placeholder="Departure Date">
                <span class="form-message"></span>
              </div>

            </div>

            <div class="search__stop">
              <svg xmlns="http://www.w3.org/2000/svg" width="1" height="64" viewBox="0 0 1 64" fill="none">
                <path d="M0.5 0L0.500003 64" stroke="black" />
              </svg>
            </div>

            <div class="seat__search">
              <div class="search__icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="50" height="56" viewBox="0 0 448 512" fill="#00256C">
                  <path
                    d="M248 48V256h48V58.7c23.9 13.8 40 39.7 40 69.3V256h48V128C384 57.3 326.7 0 256 0H192C121.3 0 64 57.3 64 128V256h48V128c0-29.6 16.1-55.5 40-69.3V256h48V48h48zM48 288c-12.1 0-23.2 6.8-28.6 17.7l-16 32c-5 9.9-4.4 21.7 1.4 31.1S20.9 384 32 384l0 96c0 17.7 14.3 32 32 32s32-14.3 32-32V384H352v96c0 17.7 14.3 32 32 32s32-14.3 32-32V384c11.1 0 21.4-5.7 27.2-15.2s6.4-21.2 1.4-31.1l-16-32C423.2 294.8 412.1 288 400 288H48z" />
                </svg>
                </svg>
              </div>

              <div class="form-group">
                <label class="form-label" for="Seat">Cabin Class</label>
                <select class="form-input" id="Seat" name="maHangVe">
                  <option disabled selected>Select cabin class</option>
                  <option th:each="hangve: ${hangve}" th:value="${hangve.maHangVe}" th:text="${hangve.maHangVe}">
                  </option>
                </select>
                <span class="form-message"></span>
              </div>
            </div>

            <div class="search__button">
              <button class="btn__search" type="submit">Search</button>
            </div>

          </div>
        </div>
      </form>

      <!-- result 1-->
      <section class="result" th:each="flightWithCTHV : ${flightWithCTHV}">
        <div class="container">
          <div class="result__container">
            <div class="information">
              <div class="fromto__result">
                <div class="from__result">
                  <!-- <h1 class="res-time"></h1> -->
                  <p class="res-name" th:text="${flightWithCTHV.flight.maSanBayDi}"></p>
                </div>

                <div class="mid__res">
                  <p class="res__dura" th:text="${flightWithCTHV.flight.thoiGianBay}"></p>
                  <svg xmlns="http://www.w3.org/2000/svg" width="130" height="18" viewBox="0 0 142 24" fill="none">
                    <path d="M3 21H133L106.869 3" stroke="#00256C" stroke-width="5" stroke-linecap="round" />
                  </svg>
                </div>

                <div class="to__result">
                  <!-- <h1 class="res-time">10:30</h1> -->
                  <p class="res-name" th:text="${flightWithCTHV.flight.maSanBayDen}"></p>
                </div>
              </div>

              <div class="code">
                <p class="res__code" th:text="${flightWithCTHV.flight.maChuyenBay}"></p>
                <p class="res__station" th:text="${flightWithCTHV.flight.ngayGioBay}"></p>
                <p class="res__code" th:text="${flightWithCTHV.flight.maMB}">

                </p>
              </div>
            </div>

            <div class="price">
              <a th:if="${flightWithCTHV.cthangve.soGheConLai > 0}"
                th:href="@{'/' + ${role} + '/BookFlight/' + ${flightWithCTHV.flight.maChuyenBay} + '/' + ${flightWithCTHV.cthangve.maHangve}}">
                <p class="pre price__class" th:text="${flightWithCTHV.cthangve.maHangve}"></p>
                <p class="pre price__vnd" th:text="${flightWithCTHV.cthangve.donGiaHV + 'VND'}">
                </p>
                <p class="pre price__number"
                  th:text="${flightWithCTHV.cthangve.soGheDat + '/' + flightWithCTHV.cthangve.soLuong}">
                </p>
              </a>
            </div>
          </div>
        </div>
      </section>

      <button class="detailsButton" style="display: none;">Details</button>

      <!-- itinerary-->
      <section class="itinerary" style="display: none">
        <div class="container">
          <div class="shape">
            <!-- itinerary__title -->
            <div class="title">
              <h1 class="title__heading">Itinerary</h1>
            </div>

            <!-- itinerary__content -->
            <div class="content" th:each="trunggian : ${trunggians}" th:if="${trunggian != null}">
              <!-- item 1 -->
              <div class="item station__1">
                <div class="content-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="40" height="54" viewBox="0 0 384 512" fill="#00256C">
                    <path
                      d="M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z" />
                  </svg>
                </div>
                <div class="content__information">
                  <div class="content-top">
                    <h2 class="content__heading" th:text="${'Airport: ' + trunggian.maSanBayTG}"></h2>
                    <h2 class="content__heading" th:text="${'Flight ID: '+trunggian.maChuyenBay}"></h2>
                    <h2 class="content__heading" th:text="${'Duration: '+trunggian.thoiGianDung}"></h2>
                  </div>
                  <p class="content__desc" th:text="${'Note: '+trunggian.ghiChu}"></p>
                </div>
              </div>
            </div>
          </div>

        </div>
      </section>
    </section>
  </main>
  <script th:src="@{/js/main_search.js}"></script>
</body>
</html>